## API 명세

### 잔액 조회

- ### Method
  - GET 
- ### EndPoint
  - /user/balance/{user_id}
- ### Header
  - X 
- ### Request
```
PathVariable-user_id:1
```
- ### Response
```
{
    "userId": 1,
    "balance": 10000
}
```

### 잔액 충전

- ### Method
    - PATCH
- ### EndPoint
    - /user/balance/charge
- ### Header
    - Content-type: application/json
- ### Request
```
{
    "userId":"1",
    "chargeAmount":"50000"
}
```
- ### Response
```
{
    "userId": 1,
    "chargeAmount": 50000,
    "balance": 60000
}
```

### 상품 조회

- ### Method
    - GET
- ### EndPoint
    - /products
- ### Header
    - X
- ### Request
```
X
```
- ### Response
```
[
    {
        "productId": 1,
        "name": "반팔 티셔츠",
        "description": "반팔 티셔츠 설명",
        "options": [
            {
                "productOptionId": 1,
                "optionName": "XL",
                "price": 12000,
                "totalQuantity": 10,
                "stockQuantity": 5,
                "salesYn": "Y",
                "regDate": "2025-07-15T09:00:00"
            },
            {
                "productOptionId": 2,
                "optionName": "M",
                "price": 12000,
                "totalQuantity": 5,
                "stockQuantity": 2,
                "salesYn": "Y",
                "regDate": "2025-07-15T09:00:00"
            }
        ]
    },
    {
        "productId": 2,
        "name": "신발",
        "description": "신발 설명",
        "options": [
            {
                "productOptionId": 3,
                "optionName": "240",
                "price": 32000,
                "totalQuantity": 10,
                "stockQuantity": 5,
                "salesYn": "Y",
                "regDate": "2025-07-15T09:00:00"
            },
            {
                "productOptionId": 4,
                "optionName": "270",
                "price": 32000,
                "totalQuantity": 5,
                "stockQuantity": 2,
                "salesYn": "Y",
                "regDate": "2025-07-15T09:00:00"
            }
        ]
    }
]
```

### 선착순 쿠폰 발급

- ### Method
    - POST
- ### EndPoint
    - /coupon/issue
- ### Header
    - Content-type: application/json
- ### Request
```
{
    "userId":"1",
    "couponId":"2"
}
```
- ### Response
```
{
    "couponIssuedId": 1,
    "couponId": 2,
    "couponName": "신규 가입 쿠폰",
    "discountPrice": 1000,
    "minUsePrice": 10000,
    "issuedAt": "2025-07-16T10:30:00",
    "endDate": "2025-07-16T11:30:00"
}
```

### 본인 소유 쿠폰 조회

- ### Method
    - GET
- ### EndPoint
    - /coupons/user/{user_id}
- ### Header
    - X
- ### Request
```
PathVariable - user_id: 1
```
- ### Response
```
{
    "couponId": 2,
    "couponName": "신규 가입 쿠폰",
    "discountPrice": 1000,
    "minUsePrice": 10000,
    "issuedAt": "2025-07-16T10:30:00",
    "endDate": "2025-07-16T11:30:00",
    "useYn": "N"
}
```

### 쿠폰 상태별 조회

- ### Method
    - GET
- ### EndPoint
    - /coupons/{status}
- ### Header
    - X
- ### Request
```
PathVariable - status: pending, issuing, closed
```
- ### Response(status=issuing)
```
{
    "couponId": 2,
    "couponName": "신규 가입 쿠폰",
    "discountPrice": 1000,
    "totalCouponAmount": 30,
    "remainingCouponAmount": 20,
    "minUsePrice": 10000,
    "issuanceStartTime": "2025-07-16T10:00:00",
    "issuanceEndTime": "2025-07-16T11:00:00",
    "useLimitTime": 24,
    "couponStatus": "issuing",
    "regDate": "2025-07-16T09:00:00"
}
```

### 주문

- ### Method
    - POST
- ### EndPoint
    - /order
- ### Header
    - Content-type: application/json
- ### Request
```
{
    "userId":"1",
    "productIds":
            [{
                "productId":"1",
                "options":
                    [{"productOptionId":"1"},
                    {"productOptionId":"2"}]
            }],
    "couponId":"2"
}
```
- ### Response
```
{
    "orderId": 1,
    "couponId": 2,
    "couponName": "신규 가입 쿠폰",
    "couponDiscountPrice": 1000,
    "totalPrice": 72000,
    "orderStatus": "pending_payment",
    "orderDate": "2025-07-16T11:00:00",
    "orderProduct": [
        {
            "orderProductId": 1,
            "productId": 1,
            "productName": "반팔티",
            "productOptionId": 1,
            "productOptionName": "XL",
            "productQuantity": 2,
            "productPrice": 12000
        },
        {
            "orderProductId": 2,
            "productId": 1,
            "productName": "반팔티",
            "productOptionId": 2,
            "productOptionName": "M",
            "productQuantity": 4,
            "productPrice": 12000
        }
    ]
}
```

### 결제

- ### Method
    - POST
- ### EndPoint
    - /payment
- ### Header
    - Content-type: application/json
- ### Request
```
{
    "userId":"1",
    "orderId":"1"
}
```
- ### Response
```
{
    "paymentId": 1,
    "order": {
        "orderId": 1,
        "couponId": 2,
        "couponName": "신규 가입 쿠폰",
        "couponDiscountPrice": 1000,
        "totalPrice": 72000,
        "orderStatus": "pending_payment",
        "orderDate": "2025-07-16T11:00:00",
        "orderProduct": [
            {
                "orderProductId": 1,
                "productId": 1,
                "productName": "반팔티",
                "productOptionId": 1,
                "productOptionName": "XL",
                "productQuantity": 2,
                "productPrice": 12000
            },
            {
                "orderProductId": 2,
                "productId": 1,
                "productName": "반팔티",
                "productOptionId": 2,
                "productOptionName": "M",
                "productQuantity": 4,
                "productPrice": 12000
            }
        ]
    }
}
```

### 인기 상품 조회

- ### Method
    - GET
- ### EndPoint
    - /products/statistics
- ### Header
    - X
- ### Request
```
X
```
- ### Response
```
[
    {
        "productId": 1,
        "productOptionId": 1,
        "productName": "반팔 티셔츠",
        "productOptionName": "XL",
        "price": 12000,
        "salesQuantity": 5,
        "ranking": 1,
        "selectionDate": "2025-07-14T03:00:00"
    },
    {
        "productId": 1,
        "productOptionId": 2,
        "productName": "반팔 티셔츠",
        "productOptionName": "M",
        "price": 12000,
        "salesQuantity": 2,
        "ranking": 2,
        "selectionDate": "2025-07-15T03:00:00"
    },
    {
        "productId": 2,
        "productOptionId": 3,
        "productName": "반팔 티셔츠",
        "productOptionName": "240",
        "price": 32000,
        "salesQuantity": 1,
        "ranking": 3,
        "selectionDate": "2025-07-16T03:00:00"
    }
]
```